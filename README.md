This repo is for accepting payments from customers using PayPal.

This code is specific to Google Apps Script.

This solution uses both the client side PayPal Javascript SDK and the server side PayPal REST API to accept a payment from the buyer. 

This server code is specific to Apps Script, and the server call from the client side is also specific to Apps Script.

Much of the information needed is in the comments of the code.

NOTE: To go "live" you must:

Remove the word sandbox from the urls - See: https://developer.paypal.com/docs/paypal-plus/germany/integrate/test-and-go-live/#go-live  
Use different client and secret credentials  

 # In-App PayPal system with server integration  
 ## Basic Requirements:  

 * These are general requirements.  It’s main purpose is to give you an understanding of the basic parts of the system.  You need to understand a general outline in order to know how to put the major pieces together.  
 * A main HTML file for your Web Page, dialog box or sidebar.
   * If you have separate files for CSS styling and JavaScript code then you’ll have other files also.
 * Script tag for the PayPal client side SDK
   * with <script src="https://www.paypal.com/sdk/js?client-id= xxxx loads the PayPal client side SDK with your client ID
HTML DIV tag with the id attribute of “#paypal-button-container”
 * Client side code that triggers the PayPal SDK to create the PayPal buttons, and handle the order creation and approval.
Server side code for making requests to PayPal.
Obviously, you need a PayPal account, and you need to create credentials for the authorization.

 ## Program Flow

 * HTML loads with your payment system html
   * Script tag with <script src="https://www.paypal.com/sdk/js?client-id= xxxx loads the PayPal client side SDK with your client ID  
     * The script tag must be in the <head> tag of the HTML that is opened
     * In my system the client id is looked up on the server using a scriptlet.  So there needs to be a function in a “gs” file with settings
 * When the HTML loads, some client side code also runs at the same time and the PayPal buttons are initialized and created.  You can have multiple different types of PayPal buttons that are for different payment types.  For example, “PayPal Pay later” and “Debit or Credit Card.”  So, the user has choices about how to pay.
 * The PayPal SDK creates buttons that are rendered into an html tag with the id attribute of “#paypal-button-container”
 * The code for the PayPal button initialization should be placed at the bottom to make sure that it only runs after the html tag with the id attribute of “#paypal-button-container” is loaded
 * For my payment system, the user has the choice to pay with either stripe or PayPal, and so the user doesn’t see all the buttons initially.  If the user chooses PayPal, then my code shows the PayPal buttons that were generated by the PayPal SDK.
 * User clicks a PayPal button generated by the PayPal client side SDK.
 * The button opens a small browser window that overlays the current content, for an In-App type of payment system.
 * The user pays.
 * The “createOrder” client side method calls the server code to complete the payment transaction.  This both creates and executes the transaction.
 * The “onApprove” client side method runs and displays a message to the user that the transaction was successful.
 * Your server code can save customer information to your customer database.
 * Client side handlers for canceling and errors will need your custom code.

